<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø®Ø·Ø© ØªØ­Ø³ÙŠÙ† Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…ØªØ¯Ù†ÙŠ - Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ù†Ø°Ø± Ø¨Ù† Ø¹Ù…Ø±Ùˆ Ø§Ù„Ø£Ù†ØµØ§Ø±ÙŠ Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
        }

        .ministry-logo {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .logo-dots {
            display: grid;
            grid-template-columns: repeat(5, 8px);
            gap: 4px;
        }

        .dot {
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }

        .header h1 {
            font-size: 2em;
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .school-name {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            font-size: 1.3em;
            margin-top: 20px;
        }

        .main-content {
            padding: 40px;
        }

        .form-section {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 2px solid #e9ecef;
        }

        .form-section h2 {
            color: #2a5298;
            margin-bottom: 20px;
            font-size: 1.5em;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #495057;
        }

        input[type="text"], 
        input[type="date"],
        select,
        textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .student-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .student-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: bold;
        }

        .student-table td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #dee2e6;
        }

        .student-table tr:hover {
            background: #f8f9fa;
        }

        .checkbox-group {
            display: flex;
            gap: 20px;
            align-items: center;
            justify-content: center;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .add-student-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .add-student-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .action-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 40px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            color: white;
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, #128C7E 0%, #075E54 100%);
        }

        .btn-info {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .notes-section {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .notes-section h3 {
            color: #856404;
            margin-bottom: 10px;
        }

        .footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            border-top: 3px solid #667eea;
        }

        .report-section {
            display: none;
            margin-top: 30px;
            padding: 30px;
            background: white;
            border-radius: 15px;
            border: 2px solid #667eea;
        }

        .report-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .report-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .report-table th,
        .report-table td {
            border: 2px solid #dee2e6;
            padding: 12px;
            text-align: right;
        }

        .report-table th {
            background: #e9ecef;
            font-weight: bold;
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .container {
                box-shadow: none;
            }
            
            .action-buttons,
            .add-student-btn {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.5em;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .student-table {
                font-size: 14px;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
            
            .btn-secondary {
                font-size: 0.9em;
                padding: 15px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="ministry-logo">
                <div>
                    <div class="logo-dots">
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.9em;">ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…<br>Ministry of Education</p>
                </div>
                <div style="text-align: left;">
                    <p>Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„ØªØ¹Ù„ÙŠÙ… Ø¨Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©</p>
                    <p>Ù…ÙƒØªØ¨ ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø¬ÙˆØ§Ù„ÙŠ</p>
                </div>
            </div>
            <div class="school-name">
                Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ù†Ø°Ø± Ø¨Ù† Ø¹Ù…Ø±Ùˆ Ø§Ù„Ø£Ù†ØµØ§Ø±ÙŠ Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©
            </div>
            <h1>Ø®Ø·Ø© ØªØ­Ø³ÙŠÙ† Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…ØªØ¯Ù†ÙŠ</h1>
            <h2>Ù…Ø³ØªÙˆØ§Ù‡Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ ÙˆÙ…ØªØ¯Ù†ÙŠ Ø§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø· Ø§Ù„ØµÙÙŠ</h2>
            <p style="font-size: 1.2em; margin-top: 15px;">Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ 1447Ù‡Ù€</p>
        </div>

        <div class="main-content">
            <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù… -->
            <div class="form-section">
                <h2>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù… ÙˆØ§Ù„ØµÙ</h2>
                <div class="form-group">
                    <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù…:</label>
                    <input type="text" id="teacherName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù…">
                </div>
                <div class="form-group">
                    <label>Ø§Ù„Ù…Ø§Ø¯Ø©:</label>
                    <input type="text" id="subject" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø§Ø¯Ø©">
                </div>
                <div class="form-group">
                    <label>Ø§Ù„ØµÙ:</label>
                    <select id="classLevel">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„ØµÙ</option>
                        <option value="Ø£ÙˆÙ„ Ù…ØªÙˆØ³Ø·">Ø£ÙˆÙ„ Ù…ØªÙˆØ³Ø·</option>
                        <option value="Ø«Ø§Ù†ÙŠ Ù…ØªÙˆØ³Ø·">Ø«Ø§Ù†ÙŠ Ù…ØªÙˆØ³Ø·</option>
                        <option value="Ø«Ø§Ù„Ø« Ù…ØªÙˆØ³Ø·">Ø«Ø§Ù„Ø« Ù…ØªÙˆØ³Ø·</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ:</label>
                    <select id="academicLevel">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³ØªÙˆÙ‰</option>
                        <option value="Ø¬ÙŠØ¯">Ø¬ÙŠØ¯</option>
                        <option value="Ø¶Ø¹ÙŠÙ">Ø¶Ø¹ÙŠÙ</option>
                    </select>
                </div>
            </div>

            <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ -->
            <div class="form-section">
                <h2>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø§Ø¨</h2>
                <table class="student-table" id="studentTable">
                    <thead>
                        <tr>
                            <th>Ù…</th>
                            <th>Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨</th>
                            <th>Ø§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø· Ø§Ù„ØµÙÙŠ</th>
                            <th>Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</th>
                        </tr>
                    </thead>
                    <tbody id="studentTableBody">
                        <tr>
                            <td>1</td>
                            <td><input type="text" class="student-name-input" data-id="1" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨" style="width: 100%;" onchange="updateTreatmentTable()"></td>
                            <td>
                                <div class="checkbox-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" name="discipline1"> Ù…Ù†Ø¶Ø¨Ø·
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" name="discipline1"> Ù…ØªÙˆØ³Ø·
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" name="discipline1"> Ù…Ù‡Ù…Ù„ Ø¯Ø±Ø§Ø³ÙŠØ§
                                    </label>
                                </div>
                            </td>
                            <td>
                                <div class="checkbox-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" name="level1"> Ø¬ÙŠØ¯
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" name="level1"> Ø¶Ø¹ÙŠÙ
                                    </label>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <button class="add-student-btn" onclick="addStudent()">â• Ø¥Ø¶Ø§ÙØ© Ø·Ø§Ù„Ø¨ Ø¬Ø¯ÙŠØ¯</button>
            </div>

            <!-- Ø·Ø±Ù‚ Ø§Ù„Ø¹Ù„Ø§Ø¬ -->
            <div class="form-section">
                <h2>ğŸ¯ Ø·Ø±Ù‚ Ø§Ù„Ø¹Ù„Ø§Ø¬ Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø© Ù…Ù† Ø§Ù„Ù…Ø¹Ù„Ù…</h2>
                <p style="color: #6c757d; margin-bottom: 20px; font-style: italic;">
                    Ø§Ø®ØªØ± Ø§Ù„Ø·Ø±Ù‚ Ø§Ù„Ø¹Ù„Ø§Ø¬ÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„ÙƒÙ„ Ø·Ø§Ù„Ø¨ Ù„ØªØ­Ø³ÙŠÙ† Ù…Ø³ØªÙˆØ§Ù‡ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ ÙˆØ§Ù„Ø³Ù„ÙˆÙƒÙŠØŒ Ø«Ù… Ø£Ø±ÙÙ‚ Ø´Ø§Ù‡Ø¯Ø§Ù‹ Ø£Ùˆ Ø§Ø«Ù†ÙŠÙ†
                </p>

                <div style="background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <table class="student-table">
                        <thead>
                            <tr>
                                <th style="width: 5%;">Ù…</th>
                                <th style="width: 15%;">Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨</th>
                                <th style="width: 60%;">Ø·Ø±Ù‚ Ø§Ù„Ø¹Ù„Ø§Ø¬ Ø§Ù„Ù…Ø·Ø¨Ù‚Ø©</th>
                                <th style="width: 20%;">Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©</th>
                            </tr>
                        </thead>
                        <tbody id="treatmentTableBody">
                        </tbody>
                    </table>
                </div>

                <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; border-right: 5px solid #2196f3;">
                    <h3 style="color: #1976d2; margin-bottom: 15px;">ğŸ“š Ø¯Ù„ÙŠÙ„ Ø·Ø±Ù‚ Ø§Ù„Ø¹Ù„Ø§Ø¬ Ø§Ù„Ù…ØªØ§Ø­Ø©:</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin-top: 15px;">
                        <div style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <strong style="color: #2196f3;">1ï¸âƒ£ Ø´Ø¯ Ø§Ù†ØªØ¨Ø§Ù‡ Ø§Ù„Ø·Ø§Ù„Ø¨ Ù„Ù„Ø¯Ø±Ø³</strong>
                            <p style="font-size: 0.9em; color: #666; margin-top: 5px;">Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ù…ØµØ§Ø­Ø¨Ø© Ù„Ù„Ø¯Ø±Ø³ ÙˆØ§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø©</p>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <strong style="color: #2196f3;">2ï¸âƒ£ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªÙ‚Ø±Ø¨ ÙˆØ§Ù„ØªÙˆØ¯Ø¯</strong>
                            <p style="font-size: 0.9em; color: #666; margin-top: 5px;">ÙÙ‡Ù… Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨ ÙˆØ¨Ù†Ø§Ø¡ Ø¹Ù„Ø§Ù‚Ø© Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ© Ù…Ø¹Ù‡</p>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <strong style="color: #2196f3;">3ï¸âƒ£ Ø¥Ø´Ø±Ø§Ùƒ Ø§Ù„Ø·Ø§Ù„Ø¨ ÙÙŠ Ø§Ù„Ø£Ù†Ø´Ø·Ø©</strong>
                            <p style="font-size: 0.9em; color: #666; margin-top: 5px;">Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ù…Ø®ØªÙ„ÙØ© Ø§Ù„Ù…ØªØ¹Ù„Ù‚Ø© Ø¨Ø§Ù„Ù…Ø§Ø¯Ø© Ù„ØªØ¹Ø²ÙŠØ² Ø§Ù„ÙÙ‡Ù…</p>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <strong style="color: #2196f3;">4ï¸âƒ£ Ø·Ø±Ø­ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø¨Ø³Ø·Ø©</strong>
                            <p style="font-size: 0.9em; color: #666; margin-top: 5px;">Ø¥Ø¹Ø·Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙƒØ§ÙÙŠ Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© ÙˆØªØ¹Ø²ÙŠØ² Ø§Ù„Ø«Ù‚Ø©</p>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <strong style="color: #2196f3;">5ï¸âƒ£ Ù†Ø¸Ø§Ù… Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ù‚Ø¯ÙˆØ©</strong>
                            <p style="font-size: 0.9em; color: #666; margin-top: 5px;">ÙˆØ¶Ø¹ Ø§Ù„Ø·Ø§Ù„Ø¨ Ø¨Ø¬Ø§Ù†Ø¨ Ø£Ø­Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…ØªÙ…ÙŠØ²ÙŠÙ† Ù„Ù„Ø§Ø³ØªÙØ§Ø¯Ø©</p>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <strong style="color: #2196f3;">6ï¸âƒ£ Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ØªØ­Ø±ÙŠØ±ÙŠØ©</strong>
                            <p style="font-size: 0.9em; color: #666; margin-top: 5px;">Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª ÙˆØ§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø£ÙˆÙ„Ø§Ù‹ Ø¨Ø£ÙˆÙ„</p>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <strong style="color: #2196f3;">7ï¸âƒ£ ØªÙƒÙ„ÙŠÙÙ‡ Ø¨ÙˆØ§Ø¬Ø¨Ø§Øª Ù…Ù†Ø§Ø³Ø¨Ø©</strong>
                            <p style="font-size: 0.9em; color: #666; margin-top: 5px;">ÙˆØ§Ø¬Ø¨Ø§Øª ÙˆØ£Ø¹Ù…Ø§Ù„ Ù…Ù†Ø§Ø³Ø¨Ø© ØªØ±ÙØ¹ Ù…Ù† Ù…Ø³ØªÙˆØ§Ù‡ ØªØ¯Ø±ÙŠØ¬ÙŠØ§Ù‹</p>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <strong style="color: #2196f3;">8ï¸âƒ£ Ø­ØµØµ Ø§Ù„ØªÙ‚ÙˆÙŠØ©</strong>
                            <p style="font-size: 0.9em; color: #666; margin-top: 5px;">Ø¥Ø´Ø±Ø§ÙƒÙ‡ ÙÙŠ Ø­ØµØµ Ø§Ù„ØªÙ‚ÙˆÙŠØ© ÙˆØ§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø¹Ù„Ø§Ø¬ÙŠØ©</p>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <strong style="color: #2196f3;">9ï¸âƒ£ Ø¥Ø´Ø±Ø§Ùƒ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±</strong>
                            <p style="font-size: 0.9em; color: #666; margin-top: 5px;">Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø± ÙÙŠ Ø®Ø·Ø© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ø¹Ù„Ø§Ø¬ Ø§Ù„Ø¶Ø¹Ù</p>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <strong style="color: #2196f3;">ğŸ”Ÿ Ø§Ù„ØªØ´Ø¬ÙŠØ¹ Ø§Ù„Ø¯Ø§Ø¦Ù… ÙˆØ§Ù„Ù…Ø³ØªÙ…Ø±</strong>
                            <p style="font-size: 0.9em; color: #666; margin-top: 5px;">ØªØ´Ø¬ÙŠØ¹ Ø§Ù„Ø·Ø§Ù„Ø¨ Ø£Ù…Ø§Ù… Ø²Ù…Ù„Ø§Ø¦Ù‡ Ø¹Ù†Ø¯ Ø¥Ø¸Ù‡Ø§Ø± Ø£ÙŠ ØªØ­Ø³Ù†</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ØªÙ‚Ø±ÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ø§Ù„Ø¨ -->
            <div class="form-section">
                <h2>ØªÙ‚Ø±ÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ø§Ù„Ø¨ (Ù…ØªØ¯Ù†ÙŠ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ â€“ ÙˆÙ…ØªØ¯Ù†ÙŠ Ø§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø· Ø§Ù„ØµÙÙŠ)</h2>
                
                <div class="form-group">
                    <label>Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨:</label>
                    <input type="text" id="reportStudentName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨">
                </div>

                <h3 style="margin: 20px 0; color: #2a5298;">ØªÙ‚Ø±ÙŠØ± Ù…Ø¹Ù„Ù… Ø§Ù„Ù…Ø§Ø¯Ø©</h3>
                <table class="report-table">
                    <tr>
                        <th style="background: #c8e6c9; width: 50%;">Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©</th>
                        <th style="background: #fff9c4; width: 50%;">Ø­Ø§Ù„Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡</th>
                    </tr>
                    <tr>
                        <td>
                            <label class="checkbox-label">
                                <input type="checkbox"> ØªÙ‚Ø¯ÙŠÙ… Ø®Ø·Ø© Ø¹Ù„Ø§Ø¬ÙŠØ© Ù„Ù„Ø·Ø§Ù„Ø¨
                            </label><br>
                            <label class="checkbox-label">
                                <input type="checkbox"> Ù„Ù… ÙŠØªÙ… ØªÙ‚Ø¯ÙŠÙ… Ø®Ø·Ø© Ø¹Ù„Ø§Ø¬ÙŠØ© Ù„Ù„Ø·Ø§Ù„Ø¨
                            </label>
                        </td>
                        <td>
                            <label class="checkbox-label">
                                <input type="checkbox"> ØªÙ… ØªÙ‚Ø¯ÙŠÙ… Ø®Ø·Ø© Ø¹Ù„Ø§Ø¬ÙŠØ© Ù„Ù„Ø·Ø§Ù„Ø¨ Ù…Ø±ÙÙ‚Ø© Ø¨Ø§Ù„ØªÙ‚Ø±ÙŠØ±
                            </label><br>
                            <label class="checkbox-label">
                                <input type="checkbox"> Ù„Ù… ÙŠØªÙ… ØªÙ‚Ø¯ÙŠÙ… Ø®Ø·Ø© Ø¹Ù„Ø§Ø¬ÙŠØ© Ù„Ù„Ø·Ø§Ù„Ø¨ ÙˆÙŠØªØ·Ù„Ø¨ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨ Ø¥Ù„Ù‰ ÙˆÙƒÙŠÙ„ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©
                            </label>
                        </td>
                    </tr>
                </table>

                <h3 style="margin: 20px 0; color: #2a5298;">ØªÙ‚Ø±ÙŠØ± ÙˆÙƒÙŠÙ„ Ø´Ø¤ÙˆÙ† Ø§Ù„Ø·Ù„Ø§Ø¨</h3>
                <table class="report-table">
                    <tr>
                        <th style="background: #c8e6c9; width: 50%;">Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©</th>
                        <th style="background: #fff9c4; width: 50%;">Ø­Ø§Ù„Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡</th>
                    </tr>
                    <tr>
                        <td>
                            <label class="checkbox-label">
                                <input type="checkbox"> ØªÙ… ØªÙ‚Ø¯ÙŠÙ… Ø®Ø·Ø© Ø¹Ù„Ø§Ø¬ÙŠØ© Ù„Ù„Ø·Ø§Ù„Ø¨ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø¹Ù„Ù…
                            </label><br>
                            <label class="checkbox-label">
                                <input type="checkbox"> Ù„Ù… ÙŠØªÙ… ØªÙ‚Ø¯ÙŠÙ… Ø®Ø·Ø© Ø¹Ù„Ø§Ø¬ÙŠØ© Ù„Ù„Ø·Ø§Ù„Ø¨ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø¹Ù„Ù…
                            </label>
                        </td>
                        <td>
                            <label class="checkbox-label">
                                <input type="checkbox"> ØªÙ… ØªÙ‚Ø¯ÙŠÙ… Ø®Ø·Ø© Ø¹Ù„Ø§Ø¬ÙŠØ© Ù„Ù„Ø·Ø§Ù„Ø¨ Ù…Ø±ÙÙ‚Ø© Ø¨Ø§Ù„ØªÙ‚Ø±ÙŠØ±
                            </label><br>
                            <label class="checkbox-label">
                                <input type="checkbox"> Ù„Ù… ÙŠØªÙ… ØªÙ‚Ø¯ÙŠÙ… Ø®Ø·Ø© Ø¹Ù„Ø§Ø¬ÙŠØ© Ù„Ù„Ø·Ø§Ù„Ø¨ ÙˆÙŠØªØ·Ù„Ø¨ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¬Ù‡ Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ
                            </label>
                        </td>
                    </tr>
                </table>

                <h3 style="margin: 20px 0; color: #2a5298;">ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…ÙˆØ¬Ù‡ Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ</h3>
                <table class="report-table">
                    <tr>
                        <th style="background: #c8e6c9; width: 50%;">Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©</th>
                        <th style="background: #fff9c4; width: 50%;">Ø­Ø§Ù„Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡</th>
                    </tr>
                    <tr>
                        <td>
                            <label class="checkbox-label">
                                <input type="checkbox"> ØªÙ… ØªÙ‚Ø¯ÙŠÙ… Ø®Ø·Ø© Ø¹Ù„Ø§Ø¬ÙŠØ© Ù„Ù„Ø·Ø§Ù„Ø¨
                            </label>
                        </td>
                        <td>
                            <label class="checkbox-label">
                                <input type="checkbox"> ØªÙ… ØªÙ‚Ø¯ÙŠÙ… Ø®Ø·Ø© Ø¹Ù„Ø§Ø¬ÙŠØ© Ù„Ù„Ø·Ø§Ù„Ø¨ Ù…Ø±ÙÙ‚Ø© Ø¨Ø§Ù„ØªÙ‚Ø±ÙŠØ±
                            </label><br>
                            <label class="checkbox-label">
                                <input type="checkbox"> Ù„Ù… ØªÙ… ØªÙ‚Ø¯ÙŠÙ… Ø®Ø·Ø© Ø¹Ù„Ø§Ø¬ÙŠØ© Ù„Ù„Ø·Ø§Ù„Ø¨ ÙˆÙŠØªØ·Ù„Ø¨ Ø®Ø·Ø§Ø¨ Ù…ÙˆØ¬Ù‡ Ù„ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø± ÙˆÙ…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø­Ø§Ù„Ø©
                            </label>
                        </td>
                    </tr>
                </table>
            </div>

            <!-- Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª -->
            <div class="notes-section">
                <h3>Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù‡Ø§Ù…Ø©:</h3>
                <ul style="margin-right: 20px; line-height: 2;">
                    <li>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ø¶Ø¹ÙØ§Ø¡ Ø¯Ø±Ø§Ø³ÙŠØ§Ù‹ ÙˆØ§Ù„Ø·Ù„Ø§Ø¨ Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ø³ÙŠØ¡ ÙÙ‚Ø·</li>
                    <li>ØªØ³Ù„ÙŠÙ… Ø§Ù„ÙƒØ´Ù Ø¨Ø¹Ø¯ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¥Ø¹Ù„Ø§Ù… ÙˆÙ„ÙŠ ÙˆÙƒÙŠÙ„ Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</li>
                    <li>Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ØµØ­ÙŠØ© Ù„Ù„Ø·Ø§Ù„Ø¨ ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡Ø§ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¬Ù‡ Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ</li>
                </ul>
            </div>

            <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª -->
            <div class="action-buttons">
                <button class="btn btn-secondary" onclick="sendToWhatsApp()" style="font-size: 1.1em; padding: 18px 50px;">
                    <span style="font-size: 1.3em;">ğŸ“±</span> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ù„Ù„Ø£Ø³ØªØ§Ø° Ù†ÙˆØ§Ù Ø§Ù„ØµØ¨Ø­ÙŠ
                </button>
            </div>
        </div>

        <div class="footer">
            <p style="color: #6c757d; font-weight: bold;">Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©: Ø£.Ø®Ø§Ù„Ø¯ Ø¨Ù† Ø³Ø¹ÙˆØ¯ Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ</p>
            <p style="color: #6c757d; margin-top: 10px;">Ø¥Ø¹Ø¯Ø§Ø¯: Ù„Ø¬Ù†Ø© Ø§Ù„ØªÙ…ÙŠØ²</p>
            <p style="color: #6c757d; margin-top: 10px; font-size: 0.9em;">
                Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ 1447Ù‡Ù€ - 2025Ù…
            </p>
        </div>
    </div>

    <script>
        let studentCount = 1;
        let students = [];

        const treatmentMethods = [
            "Ø´Ø¯ Ø§Ù†ØªØ¨Ø§Ù‡ Ø§Ù„Ø·Ø§Ù„Ø¨ Ù„Ù„Ø¯Ø±Ø³ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ù…ØµØ§Ø­Ø¨Ø©",
            "Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªÙ‚Ø±Ø¨ Ù…Ù†Ù‡ ÙˆØ§Ù„ØªÙˆØ¯Ø¯ Ø¥Ù„ÙŠÙ‡ ÙˆÙÙ‡Ù… Ù…Ø´Ø§ÙƒÙ„Ù‡",
            "Ø¥Ø´Ø±Ø§Ùƒ Ø§Ù„Ø·Ø§Ù„Ø¨ ÙÙŠ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ù…Ø®ØªÙ„ÙØ© Ø§Ù„Ù…ØªØ¹Ù„Ù‚Ø© Ø¨Ø§Ù„Ù…Ø§Ø¯Ø©",
            "Ø·Ø±Ø­ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¹Ù„ÙŠÙ‡ Ø¨Ø´ÙƒÙ„ Ù…Ø¨Ø³Ø· ÙˆØ¥Ø¹Ø·Ø§Ø¦Ù‡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙƒØ§ÙÙŠ Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø©",
            "ÙˆØ¶Ø¹ Ø§Ù„Ø·Ø§Ù„Ø¨ Ø¨Ø¬Ø§Ù†Ø¨ Ø£Ø­Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…ØªÙ…ÙŠØ²ÙŠÙ† Ù„ÙŠØ³ØªÙÙŠØ¯ Ù…Ù†Ù‡",
            "Ù…ØªØ§Ø¨Ø¹Ø© Ø£Ø¹Ù…Ø§Ù„Ù‡ Ø§Ù„ØªØ­Ø±ÙŠØ±ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹ Ø¨Ø£ÙˆÙ„",
            "ØªÙƒÙ„ÙŠÙÙ‡ Ø¨ÙˆØ§Ø¬Ø¨Ø§Øª ÙˆØ£Ø¹Ù…Ø§Ù„ Ù…Ù†Ø§Ø³Ø¨Ø© ØªØ±ÙØ¹ Ù…Ù† Ù…Ø³ØªÙˆØ§Ù‡",
            "Ø¥Ø´Ø±Ø§ÙƒÙ‡ ÙÙŠ Ø­ØµØµ Ø§Ù„ØªÙ‚ÙˆÙŠØ©",
            "Ø¥Ø´Ø±Ø§Ùƒ ÙˆÙ„ÙŠ Ø£Ù…Ø±Ù‡ ÙÙŠ Ø®Ø·Ø© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ø¹Ù„Ø§Ø¬ Ø§Ù„Ø¶Ø¹Ù",
            "Ø§Ù„ØªØ´Ø¬ÙŠØ¹ Ø§Ù„Ø¯Ø§Ø¦Ù… ÙˆØ§Ù„Ù…Ø³ØªÙ…Ø± Ù„Ù„Ø·Ø§Ù„Ø¨ Ø£Ù…Ø§Ù… Ø²Ù…Ù„Ø§Ø¦Ù‡ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ø³Ù†"
        ];

        function addStudent() {
            studentCount++;
            const tbody = document.getElementById('studentTableBody');
            const row = tbody.insertRow();
            row.innerHTML = `
                <td>${studentCount}</td>
                <td><input type="text" class="student-name-input" data-id="${studentCount}" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨" style="width: 100%;" onchange="updateTreatmentTable()"></td>
                <td>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="discipline${studentCount}"> Ù…Ù†Ø¶Ø¨Ø·
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="discipline${studentCount}"> Ù…ØªÙˆØ³Ø·
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="discipline${studentCount}"> Ù…Ù‡Ù…Ù„ Ø¯Ø±Ø§Ø³ÙŠØ§
                        </label>
                    </div>
                </td>
                <td>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="level${studentCount}"> Ø¬ÙŠØ¯
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="level${studentCount}"> Ø¶Ø¹ÙŠÙ
                        </label>
                    </div>
                </td>
            `;
            updateTreatmentTable();
        }

        function updateTreatmentTable() {
            const tbody = document.getElementById('treatmentTableBody');
            const nameInputs = document.querySelectorAll('.student-name-input');
            
            tbody.innerHTML = '';
            
            nameInputs.forEach((input, index) => {
                if (input.value.trim()) {
                    const row = tbody.insertRow();
                    row.innerHTML = `
                        <td>${index + 1}</td>
                        <td style="font-weight: bold; color: #2a5298;">${input.value}</td>
                        <td>
                            <div style="text-align: right;">
                                ${treatmentMethods.map((method, i) => `
                                    <label style="display: block; margin: 8px 0; cursor: pointer; padding: 8px; background: #f8f9fa; border-radius: 5px; transition: all 0.3s;" 
                                           onmouseover="this.style.background='#e3f2fd'" 
                                           onmouseout="this.style.background='#f8f9fa'">
                                        <input type="checkbox" class="treatment-checkbox" 
                                               data-student="${input.value}" 
                                               style="margin-left: 8px; transform: scale(1.2);">
                                        <span style="font-size: 0.95em;">${i + 1}. ${method}</span>
                                    </label>
                                `).join('')}
                            </div>
                        </td>
                        <td>
                            <select class="result-select" style="width: 100%; padding: 10px; border: 2px solid #dee2e6; border-radius: 8px; font-weight: bold;">
                                <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù†ØªÙŠØ¬Ø©</option>
                                <option value="excellent" style="color: #28a745;">â­ Ù…Ù…ØªØ§Ø² - ØªØ­Ø³Ù† ÙƒØ¨ÙŠØ±</option>
                                <option value="good" style="color: #17a2b8;">âœ“ Ø¬ÙŠØ¯ - ØªÙ‚Ø¯Ù… Ù…Ù„Ø­ÙˆØ¸</option>
                                <option value="average" style="color: #ffc107;">â†’ Ù…ØªÙˆØ³Ø· - ØªØ­Ø³Ù† Ø·ÙÙŠÙ</option>
                                <option value="weak" style="color: #fd7e14;">â–³ Ø¶Ø¹ÙŠÙ - ØªÙ‚Ø¯Ù… Ø¨Ø·ÙŠØ¡</option>
                                <option value="no-change" style="color: #dc3545;">âœ— Ù„Ø§ ØªØºÙŠÙŠØ± - ÙŠØ­ØªØ§Ø¬ Ù…ØªØ§Ø¨Ø¹Ø©</option>
                            </select>
                            <textarea placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©..." 
                                      style="width: 100%; margin-top: 10px; padding: 8px; border: 2px solid #dee2e6; border-radius: 8px; min-height: 60px; font-size: 0.9em;"></textarea>
                            
                            <div style="margin-top: 15px; padding: 15px; background: #fff3cd; border-radius: 8px; border: 2px dashed #ffc107;">
                                <strong style="color: #856404; display: block; margin-bottom: 10px;">ğŸ“ Ø¥Ø±ÙØ§Ù‚ Ø§Ù„Ø´ÙˆØ§Ù‡Ø¯ (ØµÙˆØ± Ø£Ùˆ Ù…Ù„ÙØ§Øª)</strong>
                                <input type="file" class="evidence-upload" accept="image/*,.pdf" multiple 
                                       style="width: 100%; padding: 8px; border: 2px solid #ffc107; border-radius: 5px; background: white; cursor: pointer;">
                                <p style="font-size: 0.85em; color: #856404; margin-top: 8px; margin-bottom: 0;">
                                    ğŸ’¡ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø±ÙØ§Ù‚ Ø´Ø§Ù‡Ø¯ Ø£Ùˆ Ø§Ø«Ù†ÙŠÙ† (ØµÙˆØ± Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§ØªØŒ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§ØªØŒ Ø£Ùˆ ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©)
                                </p>
                                <div class="evidence-preview" style="margin-top: 10px; display: flex; flex-wrap: wrap; gap: 10px;"></div>
                            </div>
                        </td>
                    `;
                }
            });
        }

        // ØªØ­Ø¯ÙŠØ« Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ù„Ø§Ø¬ Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨
        document.addEventListener('DOMContentLoaded', function() {
            updateTreatmentTable();
            
            // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø±ÙØ¹ Ø§Ù„Ø´ÙˆØ§Ù‡Ø¯
            document.addEventListener('change', function(e) {
                if (e.target.classList.contains('evidence-upload')) {
                    handleEvidenceUpload(e);
                }
            });
        });

        function handleEvidenceUpload(event) {
            const files = event.target.files;
            const previewDiv = event.target.parentElement.querySelector('.evidence-preview');
            previewDiv.innerHTML = '';
            
            if (files.length > 2) {
                alert('âš ï¸ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø±ÙØ§Ù‚ Ø´Ø§Ù‡Ø¯ÙŠÙ† ÙƒØ­Ø¯ Ø£Ù‚ØµÙ‰');
                event.target.value = '';
                return;
            }
            
            Array.from(files).forEach((file, index) => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.createElement('div');
                    preview.style.cssText = 'position: relative; width: 100px; height: 100px; border: 2px solid #ddd; border-radius: 8px; overflow: hidden;';
                    
                    if (file.type.startsWith('image/')) {
                        preview.innerHTML = `
                            <img src="${e.target.result}" style="width: 100%; height: 100%; object-fit: cover;">
                            <span style="position: absolute; top: 5px; right: 5px; background: #28a745; color: white; padding: 2px 8px; border-radius: 3px; font-size: 0.8em;">Ø´Ø§Ù‡Ø¯ ${index + 1}</span>
                        `;
                    } else {
                        preview.innerHTML = `
                            <div style="display: flex; align-items: center; justify-content: center; height: 100%; background: #f8f9fa;">
                                <span style="font-size: 2em;">ğŸ“„</span>
                            </div>
                            <span style="position: absolute; top: 5px; right: 5px; background: #28a745; color: white; padding: 2px 8px; border-radius: 3px; font-size: 0.8em;">Ù…Ù„Ù ${index + 1}</span>
                        `;
                    }
                    
                    previewDiv.appendChild(preview);
                };
                reader.readAsDataURL(file);
            });
        }

        function sendToWhatsApp() {
            const teacherName = document.getElementById('teacherName').value || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
            const subject = document.getElementById('subject').value || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
            const classLevel = document.getElementById('classLevel').value || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
            
            // Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨
            const tbody = document.getElementById('treatmentTableBody');
            const rows = tbody.querySelectorAll('tr');
            
            if (rows.length === 0) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨ Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            
            let message = `*ğŸ“‹ ØªÙ‚Ø±ÙŠØ± Ø®Ø·Ø© ØªØ­Ø³ÙŠÙ† Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø·Ù„Ø§Ø¨*\n`;
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n`;
            message += `*ğŸ‘¨â€ğŸ« Ø§Ù„Ù…Ø¹Ù„Ù…:* ${teacherName}\n`;
            message += `*ğŸ“š Ø§Ù„Ù…Ø§Ø¯Ø©:* ${subject}\n`;
            message += `*ğŸ“ Ø§Ù„ØµÙ:* ${classLevel}\n`;
            message += `*ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®:* ${new Date().toLocaleDateString('ar-SA')}\n\n`;
            message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n`;
            
            rows.forEach((row, index) => {
                const studentName = row.cells[1].textContent;
                const checkboxes = row.querySelectorAll('.treatment-checkbox:checked');
                const result = row.querySelector('.result-select').value;
                const notes = row.querySelector('textarea').value;
                const evidenceCount = row.querySelector('.evidence-upload').files.length;
                
                message += `*${index + 1}. Ø§Ù„Ø·Ø§Ù„Ø¨:* ${studentName}\n\n`;
                
                if (checkboxes.length > 0) {
                    message += `*ğŸ¯ Ø·Ø±Ù‚ Ø§Ù„Ø¹Ù„Ø§Ø¬ Ø§Ù„Ù…Ø·Ø¨Ù‚Ø©:*\n`;
                    checkboxes.forEach((cb, i) => {
                        const label = cb.closest('label').textContent.trim();
                        message += `   ${label}\n`;
                    });
                    message += `\n`;
                }
                
                if (result) {
                    const resultText = row.querySelector('.result-select').selectedOptions[0].text;
                    message += `*ğŸ“Š Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©:* ${resultText}\n\n`;
                }
                
                if (notes) {
                    message += `*ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª:* ${notes}\n\n`;
                }
                
                if (evidenceCount > 0) {
                    message += `*ğŸ“ Ø¹Ø¯Ø¯ Ø§Ù„Ø´ÙˆØ§Ù‡Ø¯ Ø§Ù„Ù…Ø±ÙÙ‚Ø©:* ${evidenceCount}\n\n`;
                }
                
                message += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n`;
            });
            
            message += `\n*ğŸ« Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ù†Ø°Ø± Ø¨Ù† Ø¹Ù…Ø±Ùˆ Ø§Ù„Ø£Ù†ØµØ§Ø±ÙŠ Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©*\n`;
            message += `*ğŸ“ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„ØªØ¹Ù„ÙŠÙ… Ø¨Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©*`;
            
            // ØªØ±Ù…ÙŠØ² Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„Ù„ÙˆØ§ØªØ³Ø§Ø¨
            const encodedMessage = encodeURIComponent(message);
            const whatsappURL = `https://wa.me/966541148047?text=${encodedMessage}`;
            
            // ÙØªØ­ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ ÙÙŠ Ù†Ø§ÙØ°Ø© Ø¬Ø¯ÙŠØ¯Ø©
            window.open(whatsappURL, '_blank');
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯
            alert('âœ… Ø³ÙŠØªÙ… ÙØªØ­ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚Ø±ÙŠØ±\n\nğŸ’¡ Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø±ÙØ§Ù‚ Ø§Ù„Ø´ÙˆØ§Ù‡Ø¯ (Ø§Ù„ØµÙˆØ±) ÙŠØ¯ÙˆÙŠØ§Ù‹ Ø¨Ø¹Ø¯ ÙØªØ­ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© ÙÙŠ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨');
        }

        // Ù…Ù†Ø¹ ØªØ­Ø¯ÙŠØ¯ Ø£ÙƒØ«Ø± Ù…Ù† Ø®ÙŠØ§Ø± ÙˆØ§Ø­Ø¯
        document.addEventListener('change', function(e) {
            if (e.target.type === 'checkbox') {
                const name = e.target.name;
                if (name.startsWith('discipline') || name.startsWith('level')) {
                    document.querySelectorAll(`input[name="${name}"]`).forEach(cb => {
                        if (cb !== e.target) cb.checked = false;
                    });
                }
            }
        });

        function saveData() {
            const data = {
                teacherName: document.getElementById('teacherName').value,
                subject: document.getElementById('subject').value,
                classLevel: document.getElementById('classLevel').value,
                academicLevel: document.getElementById('academicLevel').value,
                timestamp: new Date().toLocaleString('ar-SA')
            };

            // Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨ ÙˆØ·Ø±Ù‚ Ø§Ù„Ø¹Ù„Ø§Ø¬
            const studentsData = [];
            const nameInputs = document.querySelectorAll('.student-name-input');
            
            nameInputs.forEach((input, index) => {
                if (input.value.trim()) {
                    const treatments = [];
                    const checkboxes = document.querySelectorAll(`.treatment-checkbox[data-student="${input.value}"]`);
                    checkboxes.forEach((cb, i) => {
                        if (cb.checked) {
                            treatments.push(treatmentMethods[i]);
                        }
                    });
                    
                    studentsData.push({
                        name: input.value,
                        treatments: treatments
                    });
                }
            });

            data.students = studentsData;
            localStorage.setItem('improvementPlan', JSON.stringify(data));
            
            // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ Ù…Ø¹ ØªÙØ§ØµÙŠÙ„
            alert(`âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!\n\nğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:\n- Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨: ${studentsData.length}\n- Ø§Ù„ØªØ§Ø±ÙŠØ®: ${data.timestamp}`);
        }

        function exportToExcel() {
            let csvContent = "Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨,Ø·Ø±Ù‚ Ø§Ù„Ø¹Ù„Ø§Ø¬ Ø§Ù„Ù…Ø·Ø¨Ù‚Ø©,Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©\n";
            
            const tbody = document.getElementById('treatmentTableBody');
            const rows = tbody.querySelectorAll('tr');
            
            rows.forEach(row => {
                const studentName = row.cells[1].textContent;
                const checkboxes = row.querySelectorAll('.treatment-checkbox:checked');
                const treatments = Array.from(checkboxes).map((cb, i) => {
                    const label = cb.closest('label').textContent.trim();
                    return label;
                }).join(' | ');
                
                const result = row.querySelector('.result-select').selectedOptions[0]?.text || 'Ù„Ù… ÙŠØ­Ø¯Ø¯';
                
                csvContent += `"${studentName}","${treatments}","${result}"\n`;
            });

            const blob = new Blob(["\ufeff" + csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement("a");
            const url = URL.createObjectURL(blob);
            
            link.setAttribute("href", url);
            link.setAttribute("download", `Ø®Ø·Ø©_Ø§Ù„Ø¹Ù„Ø§Ø¬_${new Date().toLocaleDateString('ar-SA')}.csv`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            alert('ğŸ“Š ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!\nÙŠÙ…ÙƒÙ†Ùƒ ÙØªØ­ Ø§Ù„Ù…Ù„Ù ÙÙŠ Excel');
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
        window.addEventListener('load', function() {
            const saved = localStorage.getItem('improvementPlan');
            if (saved) {
                const data = JSON.parse(saved);
                document.getElementById('teacherName').value = data.teacherName || '';
                document.getElementById('subject').value = data.subject || '';
                document.getElementById('classLevel').value = data.classLevel || '';
                document.getElementById('academicLevel').value = data.academicLevel || '';
            }
        });
    </script>
</body>
</html>
